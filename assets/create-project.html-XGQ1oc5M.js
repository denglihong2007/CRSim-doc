import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a as t,e as l,d as s,b as d,w as o,r as h,o as r}from"./app-DgDw3LkK.js";const p="/assets/1753550429867-DIfTQqBz.png",k="/assets/1753550555786-CuXgoT3F.png",c="/assets/1753550771567-Dx5ab2QA.png",g="/assets/1753552397324-CzEPERHL.png",m={};function u(y,i){const e=h("RouteLink");return r(),n("div",null,[i[3]||(i[3]=t("h2",{id:"设置开发环境",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#设置开发环境"},[t("span",null,"设置开发环境")])],-1)),t("p",null,[i[1]||(i[1]=s("在开始之前，您需要按照")),d(e,{to:"/dev/devlopment-plugins.html"},{default:o(()=>i[0]||(i[0]=[s("设置 CRSim 插件开发环境")])),_:1}),i[2]||(i[2]=s("的指引设置插件开发环境。"))]),i[4]||(i[4]=l('<h2 id="创建项目" tabindex="-1"><a class="header-anchor" href="#创建项目"><span>创建项目</span></a></h2><p>您可以使用项目模板快速开始开发。</p><ol><li>前往 <a href="https://github.com/denglihong2007/CRSim-PluginRepository/releases/latest" target="_blank" rel="noopener noreferrer">插件仓库</a> 中下载插件模板（PluginTemplate.zip）</li><li>将下载的压缩包复制到<code>%USERPROFILE%\\Documents\\Visual Studio 2022\\Templates\\ProjectTemplates</code>（以 VS 2022 为例，以你电脑上的具体目录为准）</li><li>打开 Visual Studio</li><li>在【启动窗口】点击【创建新项目】 <img src="'+p+'" alt="" loading="lazy"></li><li>在模板列表搜索<code>CRSim</code>，选择【CRSim 插件模板】创建项目 <img src="'+k+'" alt="" loading="lazy"></li><li>将项目的命名空间由默认的<code>CRSim.ExamplePlugin</code>改为你想要的名字，开始你的 CRSim 插件开发之旅吧！ <img src="'+c+`" alt="" loading="lazy"></li></ol><h2 id="插件清单文件" tabindex="-1"><a class="header-anchor" href="#插件清单文件"><span>插件清单文件</span></a></h2><p>插件清单文件包含了插件的基本信息，如插件入口程序集等。使用插件模板创建的项目的清单文件已经基本配置完毕，您只需按照需要进行微调。</p><p>项目目录下存在名为 <code>manifest.json</code> 的文件，您需要在【属性】中将【复制到输出目录】属性设置为【如果较新则复制】。这样在构建时插件清单文件会被自动复制到输出目录。</p><p>清单文件具有以下属性：</p><table><thead><tr><th>属性名</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>entranceAssembly</td><td><code>string</code></td><td>插件入口程序集。在加载插件时将从这个程序集中查找插件入口点。</td></tr><tr><td>name</td><td><code>string</code></td><td>插件显示名称</td></tr><tr><td>id</td><td><code>string</code></td><td>插件的唯一 id</td></tr><tr><td>url</td><td><code>string</code></td><td>插件主页 Url</td></tr><tr><td>version</td><td><code>string</code></td><td>插件版本，如<code>1.0.0.0</code></td></tr><tr><td>apiVersion</td><td><code>string</code></td><td>此插件面向的 CRSim 版本。此插件将只能在高于或等于此版本的 CRSim 上工作。</td></tr><tr><td>author</td><td><code>string</code></td><td>插件作者</td></tr><tr><td>type</td><td><code>string</code></td><td>插件类型</td></tr><tr><td>description</td><td><code>string</code></td><td>插件描述</td></tr></tbody></table><p>以下是一个清单文件的示例：</p><div class="code-block-title"><div class="code-block-title-bar"><span class="title" data-title="manifest.json">manifest.json</span></div><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;entranceAssembly&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;CRSim.ExamplePlugin.dll&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//插件入口点程序集名称</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;示例插件&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//插件显示名</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;CRSim.ExamplePlugin&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//插件唯一标识符</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;url&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://crsim.tech&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//插件开源仓库地址</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;version&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;0.0.0.0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//插件版本</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;apiVersion&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;3.0.0.0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//插件面向的 CRSim 版本</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;author&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;电排骨&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//插件作者</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;type&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Others&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//插件类型，此处为其它插件</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">	&quot;description&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;这是一个示例插件。&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> //插件描述</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h2 id="插件入口点" tabindex="-1"><a class="header-anchor" href="#插件入口点"><span>插件入口点</span></a></h2><p>加载插件时，将从清单文件标记的入口程序集中查找以 <code>CRSim.Core.Abstractions.PluginBase</code> 为基类，且带有 <code>CRSim.Core.Attributes.PluginEntrance</code> 属性的类作为插件入口点，并调用 <code>Initialize</code> 方法运行插件自定义的初始化函数。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>您还可以在 <code>Initialize</code> 中完成相关服务的注册。</p></div><h2 id="启动项目" tabindex="-1"><a class="header-anchor" href="#启动项目"><span>启动项目</span></a></h2><p>点击【CRSim 插件】启动调试。如果没有差错，您可以看到 CRSim 正常启动，并弹出了带有找到插件信息的命令提示符窗口。</p><figure><img src="`+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>🎉恭喜！您成功创建了您的第一个插件！</p>',17))])}const f=a(m,[["render",u]]),F=JSON.parse('{"path":"/dev/create-project.html","title":"开始编写插件","lang":"zh-CN","frontmatter":{"title":"开始编写插件","icon":"edit","index":false,"description":"设置开发环境 在开始之前，您需要按照的指引设置插件开发环境。 创建项目 您可以使用项目模板快速开始开发。 前往 插件仓库 中下载插件模板（PluginTemplate.zip） 将下载的压缩包复制到%USERPROFILE%\\\\Documents\\\\Visual Studio 2022\\\\Templates\\\\ProjectTemplates（以 VS 202...","head":[["meta",{"property":"og:url","content":"https://docs.crsim.tech/dev/create-project.html"}],["meta",{"property":"og:site_name","content":"CRSim 文档"}],["meta",{"property":"og:title","content":"开始编写插件"}],["meta",{"property":"og:description","content":"设置开发环境 在开始之前，您需要按照的指引设置插件开发环境。 创建项目 您可以使用项目模板快速开始开发。 前往 插件仓库 中下载插件模板（PluginTemplate.zip） 将下载的压缩包复制到%USERPROFILE%\\\\Documents\\\\Visual Studio 2022\\\\Templates\\\\ProjectTemplates（以 VS 202..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-26T17:54:50.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-26T17:54:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"开始编写插件\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-07-26T17:54:50.000Z\\",\\"author\\":[]}"]]},"git":{"createdTime":1753552490000,"updatedTime":1753552490000,"contributors":[{"name":"denglihong2007","username":"denglihong2007","email":"98096191+denglihong2007@users.noreply.github.com","commits":1,"url":"https://github.com/denglihong2007"}]},"readingTime":{"minutes":2.39,"words":716},"filePathRelative":"dev/create-project.md","localizedDate":"2025年7月26日","autoDesc":true}');export{f as comp,F as data};
